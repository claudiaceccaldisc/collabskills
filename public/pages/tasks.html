<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gestion des TÃ¢ches</title>
  <!-- Inclusion des styles pour la sidebar et la page Tasks -->
  <link rel="stylesheet" href="../styles/sidebar.css">
  <link rel="stylesheet" href="../styles/tasks.css">
  <script defer src="../js/tasks.js"></script>
</head>
<body onload="checkAuth()">
  <!-- Sidebar -->
  <div class="sidebar" id="sidebar">
    <button class="toggle-sidebar" onclick="toggleSidebar()">â˜°</button>
    <ul>
      <li>
        <a href="dashboard.html">
          <span class="icon">ğŸ </span>
          <span class="text">Accueil</span>
        </a>
      </li>
      <li>
        <a href="projects.html">
          <span class="icon">ğŸ“</span>
          <span class="text">Projets</span>
        </a>
      </li>
      <li>
        <a href="skills.html">
          <span class="icon">ğŸ“</span>
          <span class="text">CompÃ©tences</span>
        </a>
      </li>
      <li>
        <a href="team.html">
          <span class="icon">ğŸ‘¥</span>
          <span class="text">Collaborateurs</span>
        </a>
      </li>
      <li>
        <a href="#" onclick="logout()">
          <span class="icon">ğŸšª</span>
          <span class="text">DÃ©connexion</span>
        </a>
      </li>
    </ul>
  </div>

  <!-- Contenu principal -->
  <div class="main-content">
    <header>
      <h1>Gestion des TÃ¢ches</h1>
    </header>
    <main>
      <!-- Formulaire d'ajout de tÃ¢che prÃ©sentÃ© sous forme de card design -->
      <section class="card">
        <h2><span class="form-icon">ğŸ“</span> Ajouter une TÃ¢che</h2>
        <form id="taskForm">
          <label for="taskProject">Projet :</label>
          <select id="taskProject" required>
            <option value="">--SÃ©lectionnez un projet--</option>
            <!-- Les options seront ajoutÃ©es par JavaScript -->
          </select>

          <label for="taskTitle">Titre :</label>
          <input type="text" id="taskTitle" maxlength="100" required>

          <label for="taskDescription">Description :</label>
          <textarea id="taskDescription" rows="4"></textarea>

          <label for="taskDueDate">Date d'Ã©chÃ©ance :</label>
          <input type="date" id="taskDueDate" required>

          <label for="taskStatus">Statut :</label>
          <select id="taskStatus" required>
            <option value="Ã  faire">Ã€ faire</option>
            <option value="en cours">En cours</option>
            <option value="terminÃ©">TerminÃ©</option>
          </select>

          <button type="submit">Ajouter la TÃ¢che</button>
        </form>
      </section>

      <!-- Tableau affichant la derniÃ¨re tÃ¢che par projet -->
      <section class="card">
        <h2>Vue des TÃ¢ches</h2>
        <table id="tasksTable">
          <thead>
            <tr>
              <th>Projet</th>
              <th>DerniÃ¨re TÃ¢che</th>
            </tr>
          </thead>
          <tbody id="tasksTableBody">
            <!-- Les lignes seront gÃ©nÃ©rÃ©es par JavaScript -->
          </tbody>
        </table>
      </section>
    </main>
    <footer>
      <p>Â© 2025 Gestion des TÃ¢ches. Tous droits rÃ©servÃ©s.</p>
    </footer>
  </div>

  <!-- Modal pour le rÃ©sumÃ© des 5 derniÃ¨res tÃ¢ches -->
  <div id="taskSummaryModal" class="modal">
    <div class="modal-content summary-content">
      <span class="close" onclick="closeSummaryModal()">&times;</span>
      <h2>RÃ©sumÃ© des TÃ¢ches</h2>
      <table id="summaryTable">
        <thead>
          <tr>
            <th>Titre</th>
            <th>Statut</th>
            <th>Date d'Ã©chÃ©ance</th>
          </tr>
        </thead>
        <tbody id="summaryTableBody">
          <!-- Les 5 derniÃ¨res tÃ¢ches seront affichÃ©es ici -->
        </tbody>
      </table>
    </div>
  </div>
</body>
</html>
